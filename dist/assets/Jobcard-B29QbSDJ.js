import{r,i as x,u as g,j as e,a as b}from"./index-DbwI3KIR.js";import{a as N}from"./constant-_4q5wobg.js";const j=()=>{const[m,h]=r.useState([]),[s,c]=r.useState(1),[l,u]=r.useState(0),n=x(t=>t.searchTerm),i=x(t=>t.warranty),p=g(),f=async()=>{var t,d,o;try{const a=await b.get(`${N}/search?page=${s}&limit=6&searchTerm=${n}&${i?"warranty=true":""}`);if(a.data.success)console.log("Job cards fetched successfully:",a.data.data),h((t=a==null?void 0:a.data)==null?void 0:t.data),u((d=a==null?void 0:a.data)==null?void 0:d.totalPages),console.log((o=a==null?void 0:a.data)==null?void 0:o.data);else return console.error("Failed to fetch job cards:",a.data.message),null}catch(a){return console.error("Error fetching job cards:",a.message||a),null}};return r.useEffect(()=>{f()},[s,n,i]),e.jsx("div",{className:"min-h-screen w-full px-4 py-6 ",children:e.jsxs("div",{className:"flex flex-col items-start w-full max-w-7xl mx-auto",children:[e.jsx("h1",{className:"text-4xl font-bold text-white mb-4",children:"Job Cards"}),e.jsx("p",{className:"text-white mb-6",children:"Hi-Tech Engineering Company - Job Card Records"}),e.jsxs("div",{className:"w-full bg-white rounded-lg shadow-md overflow-hidden",children:[e.jsxs("table",{className:"min-w-full  border border-slate-600",children:[e.jsx("thead",{className:"bg-[#4a4d50] text-white",children:e.jsxs("tr",{children:[e.jsx("th",{className:"px-6 py-3 text-left font-medium",children:"Customer Name"}),e.jsx("th",{className:"px-6 py-3 text-left font-medium",children:"Phone"}),e.jsx("th",{className:"px-6 py-3 text-left font-medium",children:"In-Date"}),e.jsx("th",{className:"px-6 py-3 text-left font-medium",children:"Out-Date"}),e.jsx("th",{className:"px-6 py-3 text-left font-medium",children:"Make"}),e.jsx("th",{className:"px-6 py-3 text-left font-medium",children:"Status"}),e.jsx("th",{className:"px-6 py-3 text-left font-medium",children:"Actions"})]})}),e.jsx("tbody",{className:"",children:m.map(t=>e.jsxs("tr",{className:"border-b border-slate-600 bg-[#282a2c] transition duration-300",children:[e.jsx("td",{className:"px-6 py-4 text-white",children:t.customerName}),e.jsx("td",{className:"px-6 py-4 text-white",children:t.phoneNumber}),e.jsx("td",{className:"px-6 py-4 text-white",children:new Date(t.InDate).toLocaleDateString()}),e.jsx("td",{className:"px-6 py-4 text-white",children:t.OutDate?new Date(t.OutDate).toLocaleDateString():"N/A"}),e.jsx("td",{className:"px-6 py-4 text-white",children:t.Make}),e.jsx("td",{className:"px-6 py-4",children:e.jsx("span",{className:`px-3 py-1 rounded-full text-white text-sm ${t.jobCardStatus==="Completed"?"bg-green-500":t.jobCardStatus==="In Progress"?"bg-yellow-500":"bg-[#d65f63] hover:bg-[#e94560]"}`,children:t.jobCardStatus})}),e.jsx("td",{className:"px-6 py-4 flex gap-2",children:e.jsx("button",{className:"px-4 py-2 bg-[#3890d8] text-white text-sm font-semibold rounded-md transition duration-300 hover:bg-blue-500 ",onClick:()=>p(`/admin/jobcard/${t._id}`),children:"View"})})]},t._id))})]}),e.jsxs("div",{className:"flex justify-between items-center p-4 bg-[#282a2c]",children:[e.jsx("button",{onClick:()=>c(t=>Math.max(t-1,1)),className:`px-4 py-2 bg-[#3890d8] text-white rounded-md transition duration-300 hover:bg-[#14c8c8] ${s===1?"opacity-50 cursor-not-allowed":""}`,disabled:s===1,children:"Previous"}),e.jsxs("span",{className:"text-white",children:["Page ",s," of ",l]}),e.jsx("button",{onClick:()=>c(t=>Math.min(t+1,l)),className:`px-4 py-2 bg-[#3890d8] text-white rounded-md transition duration-300 hover:bg-[#14c8c8] ${s===l?"opacity-50 cursor-not-allowed":""}`,disabled:s===l,children:"Next"})]})]})]})})};export{j as default};
