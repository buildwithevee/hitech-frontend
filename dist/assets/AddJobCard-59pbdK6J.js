import{r as t,u as we,j as e,w as a,a as ve,b as ye,x as u}from"./index-DaH3nT1J.js";/* empty css              */const Re=()=>{const[h,D]=t.useState(""),[b,K]=t.useState(""),[f,E]=t.useState(""),[g,A]=t.useState(""),[m,N]=t.useState("HP"),[j,F]=t.useState(""),[w,H]=t.useState(""),[V,M]=t.useState(""),[T,W]=t.useState(""),[O,q]=t.useState(""),[z,_]=t.useState(""),[I,$]=t.useState(""),[J,B]=t.useState(""),[G,U]=t.useState(""),[L,Q]=t.useState(""),[X,Y]=t.useState(""),[Z,ee]=t.useState(""),[i,se]=t.useState([]),[r,v]=t.useState({}),[te,le]=t.useState(!1),y=t.useRef(null),fe=we(),pe=t.useRef(null),k=t.useRef(null),re=t.useRef(null),C=t.useRef(null),R=t.useRef(null),P=t.useRef(null),S=t.useRef(null),ae=t.useRef(null),ne=t.useRef(null),oe=t.useRef(null),ce=t.useRef(null),ie=t.useRef(null),de=t.useRef(null),ue=t.useRef(null),me=t.useRef(null),xe=t.useRef(null),l=(s,n)=>{if(s.key==="Enter"){if(s.shiftKey)return;s.preventDefault(),n&&n.current&&n.current.focus()}},d=s=>{const{value:n}=s.target;se(c=>c.includes(n)?c.filter(p=>p!==n):[...c,n])},be=()=>{D(""),K(""),E(""),A(""),N("HP"),F(""),H(""),M(""),W(""),q(""),_(""),$(""),B(""),U(""),Q(""),Y(""),ee(""),se([]),v({}),le(!1)},ge=()=>{const s={};return(!h||h.trim()==="")&&(s.cusName="Customer name is required."),b||(s.cusAddress="Customer address is required."),f?/^\d{10}$/.test(f)||(s.cusPhone="Phone number must be 10 digits."):s.cusPhone="Customer phone is required.",g||(s.make="Make is required."),!j&&!w&&(s.hpkva="HP/KVA  is required."),s},Ne=async s=>{var c,p;v({}),s.preventDefault();const n=ge();if(Object.keys(n).length>0){v(n);return}try{const o=await ve.post(`${ye}/jobcard`,{customerName:h,customerAddress:b,phoneNumber:f,Make:g,HP:j,KVA:w,RPM:V,Type:T,Frame:O,SrNo:z,DealerName:I,DealerNumber:J,works:G,spares:L,industrialworks:X,attachments:i,warranty:te,others:Z});console.log(o),(o==null?void 0:o.status)===201&&(u.success("Job card created successfully"),fe(`/admin/complete-jobcard/${(p=(c=o==null?void 0:o.data)==null?void 0:c.data)==null?void 0:p._id}`))}catch(o){if(console.error("Error while submitting:",o),o.response){const{status:he,data:je}=o.response;he===400?u.error(je.message||"Validation error. Please check your input."):he===500?u.error("Server error. Please try again later."):u.error("Something went wrong. Please try again.")}else o.request?u.error("No response from server. Please check your network."):u.error("An unexpected error occurred.")}};t.useEffect(()=>{Object.keys(r).length>0&&y.current&&y.current.scrollIntoView({behavior:"smooth"})},[r]);const x=(s,n,c)=>{n(s.target.value),c.current&&(c.current.style.height="auto",c.current.style.height=`${c.current.scrollHeight}px`)};return e.jsx("div",{className:"flex flex-col items-start w-full justify-start min-h-screen  px-4",ref:y,children:e.jsxs("div",{className:"w-full  rounded-lg sm:p-8 p-1",children:[e.jsx("h1",{className:"text-3xl font-bold mb-2 text-white",children:"JobCard"}),e.jsx("p",{className:"text-white mb-6",children:"Hi-Tech Engineering company"}),e.jsxs("form",{className:" border-dashed border border-white lg:p-10 p-4 sm:p-6 md:p-8 rounded-lg",children:[e.jsxs("div",{className:"flex flex-col border border-dashed border-white px-8 py-10 rounded-lg lg:flex-row gap-8",children:[e.jsxs("div",{className:"w-full lg:w-1/2 flex flex-col gap-y-4",children:[e.jsxs("div",{className:"relative w-full",children:[e.jsx("label",{className:"block text-white font-medium mb-1",children:"Customer Name"}),e.jsx("input",{type:"text",placeholder:"Enter name",value:h,onChange:s=>D(s.target.value),className:"w-full px-4 py-2 border bg-[#282a2c] text-white border-[#022213] rounded-lg focus:outline-[#220211]",ref:pe,onKeyDown:s=>l(s,k)}),e.jsx(a,{className:"absolute right-3 top-10 text-[#d65f63] cursor-pointer"}),r.cusName&&e.jsx("p",{className:"text-red-500 text-sm",children:r.cusName})]}),e.jsxs("div",{className:"relative w-full",children:[e.jsx("label",{className:"block text-white font-medium mb-2",children:"Customer address"}),e.jsx("textarea",{placeholder:"Enter address",value:b,onChange:s=>x(s,K,k),className:"w-full px-4 text-start lg:py-4 py-2 border bg-[#282a2c] text-white border-[#022213] rounded-lg focus:outline-[#220211] resize-none no-scrollbar",rows:"4",ref:k,onKeyDown:s=>l(s,re)}),e.jsx(a,{className:"absolute right-3 top-11 text-[#d65f63] cursor-pointer"}),r.cusAddress&&e.jsx("p",{className:"text-red-500 text-sm",children:r.cusAddress})]}),e.jsxs("div",{className:"relative w-full",children:[e.jsx("label",{className:"block text-white font-medium mb-2",children:"Customer Phone"}),e.jsx("input",{type:"text",placeholder:"Enter phone",value:f,onChange:s=>E(s.target.value),className:"w-full px-4 py-2 border border-[#022213] bg-[#282a2c] text-white   rounded-lg focus:outline-[#220211] ",ref:re,onKeyDown:s=>l(s,C)}),e.jsx(a,{className:"absolute right-3 top-10 text-[#d65f63] cursor-pointer"}),r.cusPhone&&e.jsx("p",{className:"text-red-500 text-sm",children:r.cusPhone})]}),e.jsxs("div",{className:"relative w-full",children:[e.jsx("label",{className:"block text-white font-medium mb-2",children:"Works"}),e.jsx("textarea",{placeholder:"Enter Works",value:G,onChange:s=>x(s,U,C),className:"w-full px-4 text-start lg:py-4 py-2 border border-[#022213] bg-[#282a2c] text-white rounded-lg  focus:outline-[#220211] resize-none no-scrollbar",rows:"4",ref:C,onKeyDown:s=>l(s,R)}),e.jsx(a,{className:"absolute right-3 top-11 text-[#d65f63] cursor-pointer"})]}),e.jsxs("div",{className:"relative w-full",children:[e.jsx("label",{className:"block text-white font-medium mb-2",children:"Spares"}),e.jsx("textarea",{placeholder:"Enter Works",value:L,onChange:s=>x(s,Q,R),className:"w-full px-4 text-start lg:py-4 py-2 border border-[#022213]  bg-[#282a2c] text-white rounded-lg focus:outline-gray-300 resize-none no-scrollbar",rows:"4",ref:R,onKeyDown:s=>l(s,P)}),e.jsx(a,{className:"absolute right-3 top-11 text-[#d65f63] cursor-pointer"})]}),e.jsxs("div",{className:"relative w-full",children:[e.jsx("label",{className:"block text-white font-medium mb-2",children:"Industrial works"}),e.jsx("textarea",{placeholder:"Enter Works",value:X,onChange:s=>x(s,Y,P),className:"w-full px-4 text-start lg:py-4 py-2 border border-[#022213] bg-[#282a2c] text-white rounded-lg focus:outline-gray-300 resize-none no-scrollbar",rows:"4",ref:P,onKeyDown:s=>l(s,S)}),e.jsx(a,{className:"absolute right-3 top-11 text-[#d65f63] cursor-pointer"})]}),e.jsxs("div",{className:"flex flex-col",children:[e.jsx("label",{className:"block text-white font-medium mb-2",children:"Select Additional fittings"}),e.jsxs("div",{className:"flex flex-col",children:[e.jsxs("div",{className:"flex flex-row gap-4",children:[e.jsxs("div",{className:"flex items-center ",children:[e.jsx("input",{type:"checkbox",id:"fan",name:"features",value:"fan",checked:i.includes("fan"),onChange:s=>d(s),className:"mr-2"}),e.jsx("label",{htmlFor:"fan",className:"text-white",children:"Fan"})]}),e.jsxs("div",{className:"flex items-center",children:[e.jsx("input",{type:"checkbox",id:"fan_cover",name:"features",value:"fan cover",checked:i.includes("fan cover"),onChange:s=>d(s),className:"mr-2"}),e.jsx("label",{htmlFor:"fan_cover",className:"text-white",children:"Fan cover"})]}),e.jsxs("div",{className:"flex items-center ",children:[e.jsx("input",{type:"checkbox",id:"terminal",name:"features",value:"terminal",checked:i.includes("terminal"),onChange:s=>d(s),className:"mr-2"}),e.jsx("label",{htmlFor:"terminal",className:"text-white",children:"Terminal"})]}),e.jsxs("div",{className:"flex items-center",children:[e.jsx("input",{type:"checkbox",id:"terminal_box",name:"features",value:"terminal box",checked:i.includes("terminal box"),onChange:s=>d(s),className:"mr-2"}),e.jsx("label",{htmlFor:"terminal_box",className:"text-white",children:"Terminal Box"})]})]}),e.jsxs("div",{className:"flex flex-row gap-4",children:[e.jsxs("div",{className:"flex items-center ",children:[e.jsx("input",{type:"checkbox",id:"pulli",name:"features",value:"pulli",checked:i.includes("pulli"),onChange:s=>d(s),className:"mr-2"}),e.jsx("label",{htmlFor:"pulli",className:"text-white",children:"Pulli"})]}),e.jsxs("div",{className:"flex items-center ",children:[e.jsx("input",{type:"checkbox",id:"avr",name:"features",value:"AVR",checked:i.includes("AVR"),onChange:s=>d(s),className:"mr-2"}),e.jsx("label",{htmlFor:"avr",className:"text-white",children:"AVR"})]}),e.jsxs("div",{className:"flex items-center ",children:[e.jsx("input",{type:"checkbox",id:"diode",name:"features",value:"diode",checked:i.includes("diode"),onChange:s=>d(s),className:"mr-2"}),e.jsx("label",{htmlFor:"diode",className:"text-white",children:"Diode"})]}),e.jsxs("div",{className:"flex items-center ",children:[e.jsx("input",{type:"checkbox",id:"grill",name:"features",value:"grill",checked:i.includes("grill"),onChange:s=>d(s),className:"mr-2"}),e.jsx("label",{htmlFor:"grill",className:"text-white",children:"Grill"})]})]})]})]})]}),e.jsxs("div",{className:"w-full lg:w-1/2 flex flex-col gap-y-1.5",children:[e.jsxs("div",{className:"relative w-full",children:[e.jsx("label",{className:"block text-white font-medium mb-2",children:"Other"}),e.jsx("textarea",{placeholder:"Enter Other",value:Z,onChange:s=>x(s,ee,S),className:"w-full px-4 text-start lg:py-4 py-2 border border-[#022213] bg-[#282a2c] text-white rounded-lg focus:outline-gray-300 resize-none no-scrollbar",rows:"4",ref:S,onKeyDown:s=>l(s,ae)}),e.jsx(a,{className:"absolute right-3 top-11 text-[#d65f63] cursor-pointer"})]}),e.jsxs("div",{className:"relative w-full mt-2.5",children:[e.jsx("label",{className:"block text-white font-medium mb-2",children:"Make"}),e.jsx("input",{type:"text",placeholder:"Enter make",value:g,onChange:s=>A(s.target.value),className:"w-full px-4 py-2 border border-[#022213] bg-[#282a2c] text-white rounded-lg focus:outline-gray-300",ref:ae,onKeyDown:s=>l(s,oe)}),e.jsx(a,{className:"absolute right-3 top-10 text-[#d65f63] cursor-pointer"}),r.make&&e.jsx("p",{className:"text-red-500 text-sm",children:r.make})]}),e.jsxs("div",{className:"relative w-full pt-1",children:[e.jsxs("label",{className:"flex items-center gap-5 text-white font-medium mb-2 ",children:["HP/KVA ",e.jsxs("div",{className:"flex items-center gap-2 justify-center",children:[e.jsxs("div",{className:"flex items-center justify-center ",children:[e.jsx("input",{type:"radio",id:"HP",name:"planType",value:"HP",checked:m==="HP",onChange:s=>N(s.target.value),className:"mr-2 "}),e.jsx("label",{htmlFor:"HP",className:"text-white",children:"HP"})]}),e.jsxs("div",{className:"flex items-center ",children:[e.jsx("input",{type:"radio",id:"KVA",name:"planType",value:"KVA",checked:m==="KVA",onChange:s=>N(s.target.value),className:"mr-2"}),e.jsx("label",{htmlFor:"KVA",className:"text-white",children:"KVA"})]})]})]}),e.jsx("input",{type:"number",placeholder:m==="HP"?"Enter HP":"Enter KVA",value:m==="HP"?j:w,onChange:s=>{m==="HP"?F(s.target.value):H(s.target.value)},className:"w-full px-4 py-2 border border-[#022213] bg-[#282a2c] text-white rounded-lg focus:outline-gray-300 no-spinners",ref:oe,onKeyDown:s=>l(s,ne)}),e.jsx(a,{className:"absolute right-3 top-12 text-[#d65f63] cursor-pointer"}),r.hpkva&&e.jsx("p",{className:"text-red-500 text-sm",children:r.hpkva})]}),e.jsxs("div",{className:"relative w-full mt-2.5",children:[e.jsx("label",{className:"block text-white font-medium mb-2",children:"RPM"}),e.jsxs("select",{value:V,onChange:s=>M(s.target.value),className:"w-full px-4 py-2 border border-[#022213] rounded-lg bg-[#282a2c] text-white focus:outline-gray-300",ref:ne,onKeyDown:s=>l(s,ce),children:[e.jsx("option",{value:"",children:"Select RPM"})," ",e.jsx("option",{value:"710",children:"710 RPM"}),e.jsx("option",{value:"960",children:"960 RPM"}),e.jsx("option",{value:"1440",children:"1440 RPM"}),e.jsx("option",{value:"2800",children:"2800 RPM"})]}),r.rpm&&e.jsx("p",{className:"text-red-500 text-sm",children:r.rpm})]}),e.jsxs("div",{className:"relative w-full mt-2.5",children:[e.jsx("label",{className:"block text-white font-medium mb-2",children:"Type"}),e.jsx("input",{type:"text",placeholder:"Enter Type",value:T,onChange:s=>W(s.target.value),className:"w-full px-4 py-2 border border-[#022213] bg-[#282a2c] text-white rounded-lg focus:outline-gray-300",ref:ce,onKeyDown:s=>l(s,ie)}),e.jsx(a,{className:"absolute right-3 top-10 text-[#d65f63] cursor-pointer"})]}),e.jsxs("div",{className:"relative w-full mt-2.5",children:[e.jsx("label",{className:"block text-white font-medium mb-2",children:"Frame"}),e.jsx("input",{type:"text",placeholder:"Enter Frame",value:O,onChange:s=>q(s.target.value),className:"w-full px-4 py-2 border border-[#022213] bg-[#282a2c] text-white rounded-lg focus:outline-gray-300",ref:ie,onKeyDown:s=>l(s,de)}),e.jsx(a,{className:"absolute right-3 top-10 text-[#d65f63] cursor-pointer"})]}),e.jsxs("div",{className:"relative w-full mt-2.5",children:[e.jsx("label",{className:"block text-white font-medium mb-2",children:"Sr.no"}),e.jsx("input",{type:"text",placeholder:"Enter Sr.no",value:z,onChange:s=>_(s.target.value),className:"w-full px-4 py-2 border border-[#022213] bg-[#282a2c] text-white rounded-lg focus:outline-gray-300",ref:de,onKeyDown:s=>l(s,ue)}),e.jsx(a,{className:"absolute right-3 top-10 text-[#d65f63] cursor-pointer"})]}),e.jsxs("div",{className:"relative w-full mt-2.5",children:[e.jsx("label",{className:"block text-white font-medium mb-2",children:"Dealer Name"}),e.jsx("input",{type:"text",placeholder:"Enter Dealer name",value:I,onChange:s=>$(s.target.value),className:"w-full px-4 py-2 border border-[#022213] bg-[#282a2c] text-white rounded-lg focus:outline-gray-300",ref:ue,onKeyDown:s=>l(s,me)}),e.jsx(a,{className:"absolute right-3 top-10 text-[#d65f63] cursor-pointer"})]}),e.jsxs("div",{className:"relative w-full mt-2.5",children:[e.jsx("label",{className:"block text-white font-medium mb-2",children:"Dealer Number"}),e.jsx("input",{type:"text",placeholder:"Enter Dealer Number",value:J,onChange:s=>B(s.target.value),className:"w-full px-4 py-2 border border-[#022213] bg-[#282a2c] text-white rounded-lg focus:outline-gray-300",ref:me,onKeyDown:s=>l(s,xe)}),e.jsx(a,{className:"absolute right-3 top-10 text-[#d65f63] cursor-pointer"})]}),e.jsx("div",{className:"text-lg pt-4",children:e.jsxs("label",{className:"flex items-center text-white",children:["Does the product have a warranty?",e.jsx("input",{type:"checkbox",checked:te,onChange:s=>le(s.target.checked),className:"hidden peer",ref:xe}),e.jsx("span",{className:"w-6 h-6 ml-2 border-2 border-white rounded-md cursor-pointer peer-checked:before:content-['✅'] peer-checked:before:text-[#022213] flex items-center justify-center transition-all duration-200"})]})})]})]}),e.jsxs("div",{className:"flex items-center lg:justify-end justify-center space-x-4 mt-6",children:[e.jsx("button",{type:"button",className:"sm:px-12 px-8 py-1 sm:py-2 border border-[#d65f63] rounded-lg text-[#d65f63] font-medium hover:bg-[#d65f63] transition duration-300 hover:text-white",onClick:be,children:"Clear"}),e.jsx("button",{type:"submit",onClick:s=>Ne(s),className:"sm:px-12 px-8 py-1 sm:py-2 bg-[#d65f63] hover:bg-[#3890d8] transition duration-300 text-white rounded-lg ",children:"Submit"})]})]})]})})};export{Re as default};
